"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_workflows_settings_reset-data-workflow_ts";
exports.ids = ["_ssr_workflows_settings_reset-data-workflow_ts"];
exports.modules = {

/***/ "(ssr)/./data-store/keys.ts":
/*!****************************!*\
  !*** ./data-store/keys.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildDataKey: () => (/* binding */ buildDataKey),\n/* harmony export */   buildEffectKey: () => (/* binding */ buildEffectKey),\n/* harmony export */   buildIndexKey: () => (/* binding */ buildIndexKey),\n/* harmony export */   buildLinkKey: () => (/* binding */ buildLinkKey),\n/* harmony export */   buildLinksIndexKey: () => (/* binding */ buildLinksIndexKey),\n/* harmony export */   buildLogKey: () => (/* binding */ buildLogKey)\n/* harmony export */ });\n// data-store/keys.ts\n// Centralized KV key builders. Keep shapes consistent across repositories.\n// Production-only system - no environment namespacing needed\nfunction buildDataKey(entity, id) {\n    return `data:${entity}:${id}`;\n}\nfunction buildIndexKey(entity) {\n    return `index:${entity}`; // set of ids\n}\nfunction buildLinksIndexKey(entityType, id) {\n    return `index:links:by-entity:${entityType}:${id}`; // set of link ids\n}\nfunction buildLinkKey(id) {\n    return `links:link:${id}`;\n}\nfunction buildEffectKey(effectKey) {\n    return `effects:${effectKey}`;\n}\nfunction buildLogKey(entity, yyyymm) {\n    return yyyymm ? `logs:${entity}:${yyyymm}` : `logs:${entity}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9kYXRhLXN0b3JlL2tleXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEscUJBQXFCO0FBQ3JCLDJFQUEyRTtBQUMzRSw2REFBNkQ7QUFFdEQsU0FBU0EsYUFBYUMsTUFBYyxFQUFFQyxFQUFVO0lBQ3JELE9BQU8sQ0FBQyxLQUFLLEVBQUVELE9BQU8sQ0FBQyxFQUFFQyxHQUFHLENBQUM7QUFDL0I7QUFFTyxTQUFTQyxjQUFjRixNQUFjO0lBQzFDLE9BQU8sQ0FBQyxNQUFNLEVBQUVBLE9BQU8sQ0FBQyxFQUFFLGFBQWE7QUFDekM7QUFFTyxTQUFTRyxtQkFBbUJDLFVBQWtCLEVBQUVILEVBQVU7SUFDL0QsT0FBTyxDQUFDLHNCQUFzQixFQUFFRyxXQUFXLENBQUMsRUFBRUgsR0FBRyxDQUFDLEVBQUUsa0JBQWtCO0FBQ3hFO0FBRU8sU0FBU0ksYUFBYUosRUFBVTtJQUNyQyxPQUFPLENBQUMsV0FBVyxFQUFFQSxHQUFHLENBQUM7QUFDM0I7QUFFTyxTQUFTSyxlQUFlQyxTQUFpQjtJQUM5QyxPQUFPLENBQUMsUUFBUSxFQUFFQSxVQUFVLENBQUM7QUFDL0I7QUFFTyxTQUFTQyxZQUFZUixNQUFjLEVBQUVTLE1BQWU7SUFDekQsT0FBT0EsU0FDSCxDQUFDLEtBQUssRUFBRVQsT0FBTyxDQUFDLEVBQUVTLE9BQU8sQ0FBQyxHQUMxQixDQUFDLEtBQUssRUFBRVQsT0FBTyxDQUFDO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlZ2FtZS1hZG1pbi8uL2RhdGEtc3RvcmUva2V5cy50cz83MGUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGRhdGEtc3RvcmUva2V5cy50c1xyXG4vLyBDZW50cmFsaXplZCBLViBrZXkgYnVpbGRlcnMuIEtlZXAgc2hhcGVzIGNvbnNpc3RlbnQgYWNyb3NzIHJlcG9zaXRvcmllcy5cclxuLy8gUHJvZHVjdGlvbi1vbmx5IHN5c3RlbSAtIG5vIGVudmlyb25tZW50IG5hbWVzcGFjaW5nIG5lZWRlZFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGF0YUtleShlbnRpdHk6IHN0cmluZywgaWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGBkYXRhOiR7ZW50aXR5fToke2lkfWA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZEluZGV4S2V5KGVudGl0eTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYGluZGV4OiR7ZW50aXR5fWA7IC8vIHNldCBvZiBpZHNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGlua3NJbmRleEtleShlbnRpdHlUeXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBgaW5kZXg6bGlua3M6YnktZW50aXR5OiR7ZW50aXR5VHlwZX06JHtpZH1gOyAvLyBzZXQgb2YgbGluayBpZHNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGlua0tleShpZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYGxpbmtzOmxpbms6JHtpZH1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRFZmZlY3RLZXkoZWZmZWN0S2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBgZWZmZWN0czoke2VmZmVjdEtleX1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRMb2dLZXkoZW50aXR5OiBzdHJpbmcsIHl5eXltbT86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHl5eXltbVxyXG4gICAgPyBgbG9nczoke2VudGl0eX06JHt5eXl5bW19YFxyXG4gICAgOiBgbG9nczoke2VudGl0eX1gO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImJ1aWxkRGF0YUtleSIsImVudGl0eSIsImlkIiwiYnVpbGRJbmRleEtleSIsImJ1aWxkTGlua3NJbmRleEtleSIsImVudGl0eVR5cGUiLCJidWlsZExpbmtLZXkiLCJidWlsZEVmZmVjdEtleSIsImVmZmVjdEtleSIsImJ1aWxkTG9nS2V5IiwieXl5eW1tIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./data-store/keys.ts\n");

/***/ }),

/***/ "(ssr)/./workflows/settings/reset-data-workflow.ts":
/*!***************************************************!*\
  !*** ./workflows/settings/reset-data-workflow.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResetDataWorkflow: () => (/* binding */ ResetDataWorkflow)\n/* harmony export */ });\n/* harmony import */ var _vercel_kv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vercel/kv */ \"(ssr)/./node_modules/@vercel/kv/dist/index.js\");\n/* harmony import */ var _data_store_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/data-store/keys */ \"(ssr)/./data-store/keys.ts\");\n// workflows/settings/reset-data-workflow.ts\n// Reset Data Workflow for KV-only architecture\n\n\nclass ResetDataWorkflow {\n    /**\r\n   * Execute reset data operation\r\n   */ static async execute(mode = \"defaults\") {\n        try {\n            console.log(`[ResetDataWorkflow] üîÑ Starting reset data operation (mode: ${mode})...`);\n            const isKV = Boolean(process.env.KV_REST_API_URL);\n            const isServer = \"undefined\" === \"undefined\";\n            const results = [];\n            const errors = [];\n            console.log(`[ResetDataWorkflow] üåç Environment: ${isKV ? \"KV (Production)\" : \"Local (Development)\"}`);\n            console.log(`[ResetDataWorkflow] üñ•Ô∏è Context: ${isServer ? \"Server\" : \"Client\"}`);\n            // For local environment, we need to run on client side\n            if (!isKV && isServer) {\n                console.log(`[ResetDataWorkflow] ‚ö†Ô∏è Local environment detected on server - returning instruction for client-side execution`);\n                return {\n                    success: true,\n                    message: \"Reset requires client-side execution for local environment\",\n                    data: {\n                        results: [\n                            \"Client-side reset required for local environment\"\n                        ],\n                        errors: [],\n                        mode,\n                        environment: \"local\",\n                        requiresClientExecution: true\n                    }\n                };\n            }\n            // Handle client-side execution for localhost\n            if (!isKV && !isServer) {\n                console.log(`[ResetDataWorkflow] üñ•Ô∏è Running client-side reset for localhost...`);\n                return await this.executeClientSideReset(mode, results, errors);\n            }\n            // Define reset options\n            const options = {\n                mode,\n                seedSites: mode === \"defaults\",\n                preserveLogs: false\n            };\n            // Clear all entity data\n            await this.clearAllEntityData(results, errors);\n            // Clear all links\n            await this.clearAllLinks(results, errors);\n            // Clear logs if not preserving\n            if (!options.preserveLogs) {\n                await this.clearAllLogs(results, errors);\n            }\n            // Seed default data if requested\n            if (options.seedSites) {\n                await this.seedDefaultSites(results, errors);\n            }\n            const success = errors.length === 0;\n            const message = success ? `Successfully reset data (${mode} mode) - ${results.length} operations completed` : `Reset completed with ${errors.length} errors - ${results.length} operations completed`;\n            console.log(`[ResetDataWorkflow] ‚úÖ Reset data operation completed: ${message}`);\n            return {\n                success,\n                message,\n                data: {\n                    results,\n                    errors,\n                    mode,\n                    environment: isKV ? \"kv\" : \"local\"\n                }\n            };\n        } catch (error) {\n            console.error(\"[ResetDataWorkflow] ‚ùå Reset data operation failed:\", error);\n            return {\n                success: false,\n                message: `Reset data operation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n                data: {\n                    results: [],\n                    errors: [\n                        error instanceof Error ? error.message : \"Unknown error\"\n                    ],\n                    mode,\n                    environment: \"unknown\"\n                }\n            };\n        }\n    }\n    /**\r\n   * Clear all entity data from KV\r\n   */ static async clearAllEntityData(results, errors) {\n        try {\n            console.log(\"[ResetDataWorkflow] \\uD83D\\uDDD1Ô∏è Clearing all entity data...\");\n            const entityTypes = [\n                \"tasks\",\n                \"items\",\n                \"sales\",\n                \"financials\",\n                \"characters\",\n                \"players\",\n                \"sites\"\n            ];\n            for (const entityType of entityTypes){\n                try {\n                    // Get all entity IDs from index\n                    const indexKey = (0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildIndexKey)(entityType);\n                    const entityIds = await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.smembers(indexKey);\n                    if (entityIds.length > 0) {\n                        // Delete all entity data\n                        const dataKeys = entityIds.map((id)=>(0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildDataKey)(entityType, id));\n                        await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(...dataKeys);\n                        // Clear the index\n                        await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(indexKey);\n                        results.push(`Cleared ${entityIds.length} ${entityType} entities`);\n                        console.log(`[ResetDataWorkflow] ‚úÖ Cleared ${entityIds.length} ${entityType} entities`);\n                    } else {\n                        results.push(`No ${entityType} entities to clear`);\n                    }\n                } catch (error) {\n                    const errorMsg = `Failed to clear ${entityType}: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n                    errors.push(errorMsg);\n                    console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n                }\n            }\n        } catch (error) {\n            const errorMsg = `Failed to clear entity data: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n        }\n    }\n    /**\r\n   * Clear all links from KV\r\n   */ static async clearAllLinks(results, errors) {\n        try {\n            console.log(\"[ResetDataWorkflow] \\uD83D\\uDD17 Clearing all links...\");\n            // Get all link IDs\n            const linksIndexKey = (0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildIndexKey)(\"links\");\n            const linkIds = await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.smembers(linksIndexKey);\n            if (linkIds.length > 0) {\n                // Delete all link data\n                const linkKeys = linkIds.map((id)=>`links:link:${id}`);\n                await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(...linkKeys);\n                // Clear the links index\n                await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(linksIndexKey);\n                // Clear all entity-specific link indexes\n                const entityTypes = [\n                    \"tasks\",\n                    \"items\",\n                    \"sales\",\n                    \"financials\",\n                    \"characters\",\n                    \"players\",\n                    \"sites\"\n                ];\n                for (const entityType of entityTypes){\n                    const entityLinkIndexPattern = `index:links:by-entity:${entityType}:*`;\n                    const entityLinkKeys = await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.keys(entityLinkIndexPattern);\n                    if (entityLinkKeys.length > 0) {\n                        await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(...entityLinkKeys);\n                    }\n                }\n                results.push(`Cleared ${linkIds.length} links`);\n                console.log(`[ResetDataWorkflow] ‚úÖ Cleared ${linkIds.length} links`);\n            } else {\n                results.push(\"No links to clear\");\n            }\n        } catch (error) {\n            const errorMsg = `Failed to clear links: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n        }\n    }\n    /**\r\n   * Clear all logs from KV\r\n   */ static async clearAllLogs(results, errors) {\n        try {\n            console.log(\"[ResetDataWorkflow] \\uD83D\\uDCDD Clearing all logs...\");\n            const logTypes = [\n                \"tasks\",\n                \"items\",\n                \"sales\",\n                \"financials\",\n                \"characters\",\n                \"players\",\n                \"sites\",\n                \"links\"\n            ];\n            for (const logType of logTypes){\n                try {\n                    const logKey = (0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildLogKey)(logType);\n                    await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.del(logKey);\n                    results.push(`Cleared ${logType} logs`);\n                } catch (error) {\n                    const errorMsg = `Failed to clear ${logType} logs: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n                    errors.push(errorMsg);\n                    console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n                }\n            }\n        } catch (error) {\n            const errorMsg = `Failed to clear logs: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n        }\n    }\n    /**\r\n   * Seed default sites\r\n   */ static async seedDefaultSites(results, errors) {\n        try {\n            console.log(\"[ResetDataWorkflow] \\uD83C\\uDF31 Seeding default sites...\");\n            const defaultSites = [\n                {\n                    id: \"home\",\n                    name: \"Home\",\n                    type: \"physical\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Uvita\",\n                        location: {\n                            lat: 9.1500,\n                            lng: -83.7500\n                        }\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                },\n                {\n                    id: \"feria-box\",\n                    name: \"Feria Box\",\n                    type: \"physical\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Uvita\",\n                        location: {\n                            lat: 9.1500,\n                            lng: -83.7500\n                        }\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                },\n                {\n                    id: \"digital-space\",\n                    name: \"Digital Space\",\n                    type: \"cloud\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Cloud\",\n                        location: null\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                }\n            ];\n            for (const site of defaultSites){\n                try {\n                    const dataKey = (0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildDataKey)(\"sites\", site.id);\n                    await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.set(dataKey, JSON.stringify(site));\n                    // Add to sites index\n                    const indexKey = (0,_data_store_keys__WEBPACK_IMPORTED_MODULE_0__.buildIndexKey)(\"sites\");\n                    await _vercel_kv__WEBPACK_IMPORTED_MODULE_1__.kv.sadd(indexKey, site.id);\n                    results.push(`Seeded site: ${site.name}`);\n                } catch (error) {\n                    const errorMsg = `Failed to seed site ${site.name}: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n                    errors.push(errorMsg);\n                    console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n                }\n            }\n            console.log(\"[ResetDataWorkflow] ‚úÖ Seeded default sites\");\n        } catch (error) {\n            const errorMsg = `Failed to seed default sites: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n        }\n    }\n    /**\r\n   * Execute client-side reset for localhost (localStorage)\r\n   */ static async executeClientSideReset(mode, results, errors) {\n        try {\n            console.log(`[ResetDataWorkflow] üñ•Ô∏è Starting client-side reset (mode: ${mode})...`);\n            // Clear localStorage data\n            const keysToRemove = [];\n            // Find all data keys in localStorage\n            for(let i = 0; i < localStorage.length; i++){\n                const key = localStorage.key(i);\n                if (key && (key.startsWith(\"data:\") || key.startsWith(\"index:\") || key.startsWith(\"links:\") || key.startsWith(\"log:\") || key.startsWith(\"akiles:\"))) {\n                    keysToRemove.push(key);\n                }\n            }\n            // Remove all found keys\n            keysToRemove.forEach((key)=>{\n                localStorage.removeItem(key);\n                results.push(`Removed localStorage key: ${key}`);\n            });\n            // Seed default sites if in defaults mode\n            if (mode === \"defaults\") {\n                await this.seedDefaultSitesLocal(results, errors);\n            }\n            // Clear any cached data\n            if (\"caches\" in window) {\n                try {\n                    const cacheNames = await caches.keys();\n                    for (const cacheName of cacheNames){\n                        await caches.delete(cacheName);\n                        results.push(`Cleared cache: ${cacheName}`);\n                    }\n                } catch (cacheError) {\n                    console.warn(\"[ResetDataWorkflow] Cache clearing failed:\", cacheError);\n                }\n            }\n            console.log(`[ResetDataWorkflow] ‚úÖ Client-side reset completed: ${results.length} operations`);\n            return {\n                success: errors.length === 0,\n                message: `Client-side reset completed (${mode} mode) - ${results.length} operations completed`,\n                data: {\n                    results,\n                    errors,\n                    mode,\n                    environment: \"local\"\n                }\n            };\n        } catch (error) {\n            const errorMsg = `Client-side reset failed: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n            return {\n                success: false,\n                message: errorMsg,\n                data: {\n                    results: [],\n                    errors,\n                    mode,\n                    environment: \"local\"\n                }\n            };\n        }\n    }\n    /**\r\n   * Seed default sites for localhost (localStorage)\r\n   */ static async seedDefaultSitesLocal(results, errors) {\n        try {\n            console.log(\"[ResetDataWorkflow] \\uD83C\\uDF31 Seeding default sites for localhost...\");\n            const defaultSites = [\n                {\n                    id: \"home\",\n                    name: \"Home\",\n                    type: \"physical\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Uvita\",\n                        location: {\n                            lat: 9.1500,\n                            lng: -83.7500\n                        }\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                },\n                {\n                    id: \"feria-box\",\n                    name: \"Feria Box\",\n                    type: \"physical\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Uvita\",\n                        location: {\n                            lat: 9.1500,\n                            lng: -83.7500\n                        }\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                },\n                {\n                    id: \"digital-space\",\n                    name: \"Digital Space\",\n                    type: \"cloud\",\n                    status: \"active\",\n                    metadata: {\n                        settlement: \"Cloud\",\n                        location: null\n                    },\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    links: []\n                }\n            ];\n            for (const site of defaultSites){\n                try {\n                    // Store site data\n                    const dataKey = `data:sites:${site.id}`;\n                    localStorage.setItem(dataKey, JSON.stringify(site));\n                    // Add to sites index\n                    const indexKey = \"index:sites\";\n                    const existingIndex = localStorage.getItem(indexKey);\n                    const indexSet = new Set(existingIndex ? JSON.parse(existingIndex) : []);\n                    indexSet.add(site.id);\n                    localStorage.setItem(indexKey, JSON.stringify([\n                        ...indexSet\n                    ]));\n                    results.push(`Seeded localStorage site: ${site.name}`);\n                } catch (error) {\n                    const errorMsg = `Failed to seed localStorage site ${site.name}: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n                    errors.push(errorMsg);\n                    console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n                }\n            }\n            console.log(\"[ResetDataWorkflow] ‚úÖ Seeded default sites for localhost\");\n        } catch (error) {\n            const errorMsg = `Failed to seed default sites for localhost: ${error instanceof Error ? error.message : \"Unknown error\"}`;\n            errors.push(errorMsg);\n            console.error(`[ResetDataWorkflow] ‚ùå ${errorMsg}`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi93b3JrZmxvd3Mvc2V0dGluZ3MvcmVzZXQtZGF0YS13b3JrZmxvdy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw0Q0FBNEM7QUFDNUMsK0NBQStDO0FBRWY7QUFDaUU7QUFvQjFGLE1BQU1JO0lBRVg7O0dBRUMsR0FDRCxhQUFhQyxRQUFRQyxPQUEwQyxVQUFVLEVBQTJCO1FBQ2xHLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDLENBQUMsNERBQTRELEVBQUVGLEtBQUssSUFBSSxDQUFDO1lBRXJGLE1BQU1HLE9BQU9DLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtZQUNoRCxNQUFNQyxXQUFXLGdCQUFrQjtZQUNuQyxNQUFNQyxVQUFvQixFQUFFO1lBQzVCLE1BQU1DLFNBQW1CLEVBQUU7WUFFM0JULFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG9DQUFvQyxFQUFFQyxPQUFPLG9CQUFvQixzQkFBc0IsQ0FBQztZQUNyR0YsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUNBQWlDLEVBQUVNLFdBQVcsV0FBVyxTQUFTLENBQUM7WUFFaEYsdURBQXVEO1lBQ3ZELElBQUksQ0FBQ0wsUUFBUUssVUFBVTtnQkFDckJQLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDZHQUE2RyxDQUFDO2dCQUMzSCxPQUFPO29CQUNMUyxTQUFTO29CQUNUQyxTQUFTO29CQUNUQyxNQUFNO3dCQUNKSixTQUFTOzRCQUFDO3lCQUFtRDt3QkFDN0RDLFFBQVEsRUFBRTt3QkFDVlY7d0JBQ0FjLGFBQWE7d0JBQ2JDLHlCQUF5QjtvQkFDM0I7Z0JBQ0Y7WUFDRjtZQUVBLDZDQUE2QztZQUM3QyxJQUFJLENBQUNaLFFBQVEsQ0FBQ0ssVUFBVTtnQkFDdEJQLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtFQUFrRSxDQUFDO2dCQUNoRixPQUFPLE1BQU0sSUFBSSxDQUFDYyxzQkFBc0IsQ0FBQ2hCLE1BQU1TLFNBQVNDO1lBQzFEO1lBRUEsdUJBQXVCO1lBQ3ZCLE1BQU1PLFVBQXdCO2dCQUM1QmpC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T3VCLE9BQU87WUFDZCxNQUFNWSxXQUFXLENBQUMsNENBQTRDLEVBQUVaLGlCQUFpQkMsUUFBUUQsTUFBTWIsT0FBTyxHQUFHLGdCQUFnQixDQUFDO1lBQzFIRixPQUFPMEIsSUFBSSxDQUFDQztZQUNacEMsUUFBUXdCLEtBQUssQ0FBQyxDQUFDLHNCQUFzQixFQUFFWSxTQUFTLENBQUM7UUFDbkQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlZ2FtZS1hZG1pbi8uL3dvcmtmbG93cy9zZXR0aW5ncy9yZXNldC1kYXRhLXdvcmtmbG93LnRzP2E0YTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gd29ya2Zsb3dzL3NldHRpbmdzL3Jlc2V0LWRhdGEtd29ya2Zsb3cudHNcclxuLy8gUmVzZXQgRGF0YSBXb3JrZmxvdyBmb3IgS1Ytb25seSBhcmNoaXRlY3R1cmVcclxuXHJcbmltcG9ydCB7IGt2IH0gZnJvbSAnQHZlcmNlbC9rdic7XHJcbmltcG9ydCB7IGJ1aWxkRGF0YUtleSwgYnVpbGRJbmRleEtleSwgYnVpbGRMb2dLZXksIGJ1aWxkTGlua3NJbmRleEtleSB9IGZyb20gJ0AvZGF0YS1zdG9yZS9rZXlzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3NSZXN1bHQge1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGRhdGE/OiB7XHJcbiAgICByZXN1bHRzOiBzdHJpbmdbXTtcclxuICAgIGVycm9yczogc3RyaW5nW107XHJcbiAgICBtb2RlOiBzdHJpbmc7XHJcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xyXG4gICAgcmVxdWlyZXNDbGllbnRFeGVjdXRpb24/OiBib29sZWFuO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVzZXRPcHRpb25zIHtcclxuICBtb2RlOiAnY2xlYXInIHwgJ2RlZmF1bHRzJyB8ICdiYWNrZmlsbCc7XHJcbiAgc2VlZFNpdGVzOiBib29sZWFuO1xyXG4gIHByZXNlcnZlTG9nczogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlc2V0RGF0YVdvcmtmbG93IHtcclxuICBcclxuICAvKipcclxuICAgKiBFeGVjdXRlIHJlc2V0IGRhdGEgb3BlcmF0aW9uXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGV4ZWN1dGUobW9kZTogJ2NsZWFyJyB8ICdkZWZhdWx0cycgfCAnYmFja2ZpbGwnID0gJ2RlZmF1bHRzJyk6IFByb21pc2U8U2V0dGluZ3NSZXN1bHQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbUmVzZXREYXRhV29ya2Zsb3ddIPCflIQgU3RhcnRpbmcgcmVzZXQgZGF0YSBvcGVyYXRpb24gKG1vZGU6ICR7bW9kZX0pLi4uYCk7XHJcblxyXG4gICAgICBjb25zdCBpc0tWID0gQm9vbGVhbihwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkwpO1xyXG4gICAgICBjb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xyXG4gICAgICBjb25zdCByZXN1bHRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgW1Jlc2V0RGF0YVdvcmtmbG93XSDwn4yNIEVudmlyb25tZW50OiAke2lzS1YgPyAnS1YgKFByb2R1Y3Rpb24pJyA6ICdMb2NhbCAoRGV2ZWxvcG1lbnQpJ31gKTtcclxuICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g8J+Wpe+4jyBDb250ZXh0OiAke2lzU2VydmVyID8gJ1NlcnZlcicgOiAnQ2xpZW50J31gKTtcclxuXHJcbiAgICAgIC8vIEZvciBsb2NhbCBlbnZpcm9ubWVudCwgd2UgbmVlZCB0byBydW4gb24gY2xpZW50IHNpZGVcclxuICAgICAgaWYgKCFpc0tWICYmIGlzU2VydmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g4pqg77iPIExvY2FsIGVudmlyb25tZW50IGRldGVjdGVkIG9uIHNlcnZlciAtIHJldHVybmluZyBpbnN0cnVjdGlvbiBmb3IgY2xpZW50LXNpZGUgZXhlY3V0aW9uYCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnUmVzZXQgcmVxdWlyZXMgY2xpZW50LXNpZGUgZXhlY3V0aW9uIGZvciBsb2NhbCBlbnZpcm9ubWVudCcsXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHJlc3VsdHM6IFsnQ2xpZW50LXNpZGUgcmVzZXQgcmVxdWlyZWQgZm9yIGxvY2FsIGVudmlyb25tZW50J10sXHJcbiAgICAgICAgICAgIGVycm9yczogW10sXHJcbiAgICAgICAgICAgIG1vZGUsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiAnbG9jYWwnLFxyXG4gICAgICAgICAgICByZXF1aXJlc0NsaWVudEV4ZWN1dGlvbjogdHJ1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEhhbmRsZSBjbGllbnQtc2lkZSBleGVjdXRpb24gZm9yIGxvY2FsaG9zdFxyXG4gICAgICBpZiAoIWlzS1YgJiYgIWlzU2VydmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g8J+Wpe+4jyBSdW5uaW5nIGNsaWVudC1zaWRlIHJlc2V0IGZvciBsb2NhbGhvc3QuLi5gKTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlQ2xpZW50U2lkZVJlc2V0KG1vZGUsIHJlc3VsdHMsIGVycm9ycyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIERlZmluZSByZXNldCBvcHRpb25zXHJcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFJlc2V0T3B0aW9ucyA9IHtcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIHNlZWRTaXRlczogbW9kZSA9PT0gJ2RlZmF1bHRzJyxcclxuICAgICAgICBwcmVzZXJ2ZUxvZ3M6IGZhbHNlXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhciBhbGwgZW50aXR5IGRhdGFcclxuICAgICAgYXdhaXQgdGhpcy5jbGVhckFsbEVudGl0eURhdGEocmVzdWx0cywgZXJyb3JzKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIGFsbCBsaW5rc1xyXG4gICAgICBhd2FpdCB0aGlzLmNsZWFyQWxsTGlua3MocmVzdWx0cywgZXJyb3JzKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIGxvZ3MgaWYgbm90IHByZXNlcnZpbmdcclxuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlTG9ncykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xlYXJBbGxMb2dzKHJlc3VsdHMsIGVycm9ycyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNlZWQgZGVmYXVsdCBkYXRhIGlmIHJlcXVlc3RlZFxyXG4gICAgICBpZiAob3B0aW9ucy5zZWVkU2l0ZXMpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnNlZWREZWZhdWx0U2l0ZXMocmVzdWx0cywgZXJyb3JzKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3VjY2VzcyA9IGVycm9ycy5sZW5ndGggPT09IDA7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBzdWNjZXNzIFxyXG4gICAgICAgID8gYFN1Y2Nlc3NmdWxseSByZXNldCBkYXRhICgke21vZGV9IG1vZGUpIC0gJHtyZXN1bHRzLmxlbmd0aH0gb3BlcmF0aW9ucyBjb21wbGV0ZWRgXHJcbiAgICAgICAgOiBgUmVzZXQgY29tcGxldGVkIHdpdGggJHtlcnJvcnMubGVuZ3RofSBlcnJvcnMgLSAke3Jlc3VsdHMubGVuZ3RofSBvcGVyYXRpb25zIGNvbXBsZXRlZGA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgW1Jlc2V0RGF0YVdvcmtmbG93XSDinIUgUmVzZXQgZGF0YSBvcGVyYXRpb24gY29tcGxldGVkOiAke21lc3NhZ2V9YCk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgbWVzc2FnZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICByZXN1bHRzLFxyXG4gICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgbW9kZSxcclxuICAgICAgICAgIGVudmlyb25tZW50OiBpc0tWID8gJ2t2JyA6ICdsb2NhbCdcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1Jlc2V0RGF0YVdvcmtmbG93XSDinYwgUmVzZXQgZGF0YSBvcGVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBgUmVzZXQgZGF0YSBvcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgcmVzdWx0czogW10sXHJcbiAgICAgICAgICBlcnJvcnM6IFtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ10sXHJcbiAgICAgICAgICBtb2RlLFxyXG4gICAgICAgICAgZW52aXJvbm1lbnQ6ICd1bmtub3duJ1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYWxsIGVudGl0eSBkYXRhIGZyb20gS1ZcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBhc3luYyBjbGVhckFsbEVudGl0eURhdGEocmVzdWx0czogc3RyaW5nW10sIGVycm9yczogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbUmVzZXREYXRhV29ya2Zsb3ddIPCfl5HvuI8gQ2xlYXJpbmcgYWxsIGVudGl0eSBkYXRhLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBlbnRpdHlUeXBlcyA9IFsndGFza3MnLCAnaXRlbXMnLCAnc2FsZXMnLCAnZmluYW5jaWFscycsICdjaGFyYWN0ZXJzJywgJ3BsYXllcnMnLCAnc2l0ZXMnXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgZW50aXR5VHlwZSBvZiBlbnRpdHlUeXBlcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBHZXQgYWxsIGVudGl0eSBJRHMgZnJvbSBpbmRleFxyXG4gICAgICAgICAgY29uc3QgaW5kZXhLZXkgPSBidWlsZEluZGV4S2V5KGVudGl0eVR5cGUpO1xyXG4gICAgICAgICAgY29uc3QgZW50aXR5SWRzID0gYXdhaXQga3Yuc21lbWJlcnMoaW5kZXhLZXkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZW50aXR5SWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gRGVsZXRlIGFsbCBlbnRpdHkgZGF0YVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhS2V5cyA9IGVudGl0eUlkcy5tYXAoaWQgPT4gYnVpbGREYXRhS2V5KGVudGl0eVR5cGUsIGlkKSk7XHJcbiAgICAgICAgICAgIGF3YWl0IGt2LmRlbCguLi5kYXRhS2V5cyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgaW5kZXhcclxuICAgICAgICAgICAgYXdhaXQga3YuZGVsKGluZGV4S2V5KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChgQ2xlYXJlZCAke2VudGl0eUlkcy5sZW5ndGh9ICR7ZW50aXR5VHlwZX0gZW50aXRpZXNgKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g4pyFIENsZWFyZWQgJHtlbnRpdHlJZHMubGVuZ3RofSAke2VudGl0eVR5cGV9IGVudGl0aWVzYCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goYE5vICR7ZW50aXR5VHlwZX0gZW50aXRpZXMgdG8gY2xlYXJgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIGNsZWFyICR7ZW50aXR5VHlwZX06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yTXNnKTtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtSZXNldERhdGFXb3JrZmxvd10g4p2MICR7ZXJyb3JNc2d9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBGYWlsZWQgdG8gY2xlYXIgZW50aXR5IGRhdGE6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgZXJyb3JzLnB1c2goZXJyb3JNc2cpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbUmVzZXREYXRhV29ya2Zsb3ddIOKdjCAke2Vycm9yTXNnfWApO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBDbGVhciBhbGwgbGlua3MgZnJvbSBLVlxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGNsZWFyQWxsTGlua3MocmVzdWx0czogc3RyaW5nW10sIGVycm9yczogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbUmVzZXREYXRhV29ya2Zsb3ddIPCflJcgQ2xlYXJpbmcgYWxsIGxpbmtzLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBHZXQgYWxsIGxpbmsgSURzXHJcbiAgICAgIGNvbnN0IGxpbmtzSW5kZXhLZXkgPSBidWlsZEluZGV4S2V5KCdsaW5rcycpO1xyXG4gICAgICBjb25zdCBsaW5rSWRzID0gYXdhaXQga3Yuc21lbWJlcnMobGlua3NJbmRleEtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobGlua0lkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gRGVsZXRlIGFsbCBsaW5rIGRhdGFcclxuICAgICAgICBjb25zdCBsaW5rS2V5cyA9IGxpbmtJZHMubWFwKGlkID0+IGBsaW5rczpsaW5rOiR7aWR9YCk7XHJcbiAgICAgICAgYXdhaXQga3YuZGVsKC4uLmxpbmtLZXlzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDbGVhciB0aGUgbGlua3MgaW5kZXhcclxuICAgICAgICBhd2FpdCBrdi5kZWwobGlua3NJbmRleEtleSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2xlYXIgYWxsIGVudGl0eS1zcGVjaWZpYyBsaW5rIGluZGV4ZXNcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlcyA9IFsndGFza3MnLCAnaXRlbXMnLCAnc2FsZXMnLCAnZmluYW5jaWFscycsICdjaGFyYWN0ZXJzJywgJ3BsYXllcnMnLCAnc2l0ZXMnXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eVR5cGUgb2YgZW50aXR5VHlwZXMpIHtcclxuICAgICAgICAgIGNvbnN0IGVudGl0eUxpbmtJbmRleFBhdHRlcm4gPSBgaW5kZXg6bGlua3M6YnktZW50aXR5OiR7ZW50aXR5VHlwZX06KmA7XHJcbiAgICAgICAgICBjb25zdCBlbnRpdHlMaW5rS2V5cyA9IGF3YWl0IGt2LmtleXMoZW50aXR5TGlua0luZGV4UGF0dGVybik7XHJcbiAgICAgICAgICBpZiAoZW50aXR5TGlua0tleXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBhd2FpdCBrdi5kZWwoLi4uZW50aXR5TGlua0tleXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXN1bHRzLnB1c2goYENsZWFyZWQgJHtsaW5rSWRzLmxlbmd0aH0gbGlua3NgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1Jlc2V0RGF0YVdvcmtmbG93XSDinIUgQ2xlYXJlZCAke2xpbmtJZHMubGVuZ3RofSBsaW5rc2ApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc3VsdHMucHVzaCgnTm8gbGlua3MgdG8gY2xlYXInKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIGNsZWFyIGxpbmtzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgIGVycm9ycy5wdXNoKGVycm9yTXNnKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgW1Jlc2V0RGF0YVdvcmtmbG93XSDinYwgJHtlcnJvck1zZ31gKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYWxsIGxvZ3MgZnJvbSBLVlxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGNsZWFyQWxsTG9ncyhyZXN1bHRzOiBzdHJpbmdbXSwgZXJyb3JzOiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1tSZXNldERhdGFXb3JrZmxvd10g8J+TnSBDbGVhcmluZyBhbGwgbG9ncy4uLicpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbG9nVHlwZXMgPSBbJ3Rhc2tzJywgJ2l0ZW1zJywgJ3NhbGVzJywgJ2ZpbmFuY2lhbHMnLCAnY2hhcmFjdGVycycsICdwbGF5ZXJzJywgJ3NpdGVzJywgJ2xpbmtzJ107XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IGxvZ1R5cGUgb2YgbG9nVHlwZXMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgbG9nS2V5ID0gYnVpbGRMb2dLZXkobG9nVHlwZSk7XHJcbiAgICAgICAgICBhd2FpdCBrdi5kZWwobG9nS2V5KTtcclxuICAgICAgICAgIHJlc3VsdHMucHVzaChgQ2xlYXJlZCAke2xvZ1R5cGV9IGxvZ3NgKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIGNsZWFyICR7bG9nVHlwZX0gbG9nczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gO1xyXG4gICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3JNc2cpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgW1Jlc2V0RGF0YVdvcmtmbG93XSDinYwgJHtlcnJvck1zZ31gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYEZhaWxlZCB0byBjbGVhciBsb2dzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgIGVycm9ycy5wdXNoKGVycm9yTXNnKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgW1Jlc2V0RGF0YVdvcmtmbG93XSDinYwgJHtlcnJvck1zZ31gKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogU2VlZCBkZWZhdWx0IHNpdGVzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2VlZERlZmF1bHRTaXRlcyhyZXN1bHRzOiBzdHJpbmdbXSwgZXJyb3JzOiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1tSZXNldERhdGFXb3JrZmxvd10g8J+MsSBTZWVkaW5nIGRlZmF1bHQgc2l0ZXMuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRlZmF1bHRTaXRlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ2hvbWUnLFxyXG4gICAgICAgICAgbmFtZTogJ0hvbWUnLFxyXG4gICAgICAgICAgdHlwZTogJ3BoeXNpY2FsJyxcclxuICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXHJcbiAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICBzZXR0bGVtZW50OiAnVXZpdGEnLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogeyBsYXQ6IDkuMTUwMCwgbG5nOiAtODMuNzUwMCB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgbGlua3M6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ2ZlcmlhLWJveCcsXHJcbiAgICAgICAgICBuYW1lOiAnRmVyaWEgQm94JyxcclxuICAgICAgICAgIHR5cGU6ICdwaHlzaWNhbCcsXHJcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgc2V0dGxlbWVudDogJ1V2aXRhJyxcclxuICAgICAgICAgICAgbG9jYXRpb246IHsgbGF0OiA5LjE1MDAsIGxuZzogLTgzLjc1MDAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIGxpbmtzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdkaWdpdGFsLXNwYWNlJyxcclxuICAgICAgICAgIG5hbWU6ICdEaWdpdGFsIFNwYWNlJyxcclxuICAgICAgICAgIHR5cGU6ICdjbG91ZCcsXHJcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgc2V0dGxlbWVudDogJ0Nsb3VkJyxcclxuICAgICAgICAgICAgbG9jYXRpb246IG51bGxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBsaW5rczogW11cclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IHNpdGUgb2YgZGVmYXVsdFNpdGVzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGFLZXkgPSBidWlsZERhdGFLZXkoJ3NpdGVzJywgc2l0ZS5pZCk7XHJcbiAgICAgICAgICBhd2FpdCBrdi5zZXQoZGF0YUtleSwgSlNPTi5zdHJpbmdpZnkoc2l0ZSkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBBZGQgdG8gc2l0ZXMgaW5kZXhcclxuICAgICAgICAgIGNvbnN0IGluZGV4S2V5ID0gYnVpbGRJbmRleEtleSgnc2l0ZXMnKTtcclxuICAgICAgICAgIGF3YWl0IGt2LnNhZGQoaW5kZXhLZXksIHNpdGUuaWQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXN1bHRzLnB1c2goYFNlZWRlZCBzaXRlOiAke3NpdGUubmFtZX1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIHNlZWQgc2l0ZSAke3NpdGUubmFtZX06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yTXNnKTtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtSZXNldERhdGFXb3JrZmxvd10g4p2MICR7ZXJyb3JNc2d9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnW1Jlc2V0RGF0YVdvcmtmbG93XSDinIUgU2VlZGVkIGRlZmF1bHQgc2l0ZXMnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYEZhaWxlZCB0byBzZWVkIGRlZmF1bHQgc2l0ZXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgZXJyb3JzLnB1c2goZXJyb3JNc2cpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbUmVzZXREYXRhV29ya2Zsb3ddIOKdjCAke2Vycm9yTXNnfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZSBjbGllbnQtc2lkZSByZXNldCBmb3IgbG9jYWxob3N0IChsb2NhbFN0b3JhZ2UpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZXhlY3V0ZUNsaWVudFNpZGVSZXNldChtb2RlOiBzdHJpbmcsIHJlc3VsdHM6IHN0cmluZ1tdLCBlcnJvcnM6IHN0cmluZ1tdKTogUHJvbWlzZTxTZXR0aW5nc1Jlc3VsdD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g8J+Wpe+4jyBTdGFydGluZyBjbGllbnQtc2lkZSByZXNldCAobW9kZTogJHttb2RlfSkuLi5gKTtcclxuXHJcbiAgICAgIC8vIENsZWFyIGxvY2FsU3RvcmFnZSBkYXRhXHJcbiAgICAgIGNvbnN0IGtleXNUb1JlbW92ZTogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgIC8vIEZpbmQgYWxsIGRhdGEga2V5cyBpbiBsb2NhbFN0b3JhZ2VcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xyXG4gICAgICAgIGlmIChrZXkgJiYgKFxyXG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ2RhdGE6JykgfHxcclxuICAgICAgICAgIGtleS5zdGFydHNXaXRoKCdpbmRleDonKSB8fFxyXG4gICAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ2xpbmtzOicpIHx8XHJcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnbG9nOicpIHx8XHJcbiAgICAgICAgICBrZXkuc3RhcnRzV2l0aCgnYWtpbGVzOicpXHJcbiAgICAgICAgKSkge1xyXG4gICAgICAgICAga2V5c1RvUmVtb3ZlLnB1c2goa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBhbGwgZm91bmQga2V5c1xyXG4gICAgICBrZXlzVG9SZW1vdmUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKGBSZW1vdmVkIGxvY2FsU3RvcmFnZSBrZXk6ICR7a2V5fWApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNlZWQgZGVmYXVsdCBzaXRlcyBpZiBpbiBkZWZhdWx0cyBtb2RlXHJcbiAgICAgIGlmIChtb2RlID09PSAnZGVmYXVsdHMnKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zZWVkRGVmYXVsdFNpdGVzTG9jYWwocmVzdWx0cywgZXJyb3JzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xlYXIgYW55IGNhY2hlZCBkYXRhXHJcbiAgICAgIGlmICgnY2FjaGVzJyBpbiB3aW5kb3cpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgY2FjaGVOYW1lcyA9IGF3YWl0IGNhY2hlcy5rZXlzKCk7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhY2hlTmFtZSBvZiBjYWNoZU5hbWVzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGBDbGVhcmVkIGNhY2hlOiAke2NhY2hlTmFtZX1gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChjYWNoZUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tSZXNldERhdGFXb3JrZmxvd10gQ2FjaGUgY2xlYXJpbmcgZmFpbGVkOicsIGNhY2hlRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYFtSZXNldERhdGFXb3JrZmxvd10g4pyFIENsaWVudC1zaWRlIHJlc2V0IGNvbXBsZXRlZDogJHtyZXN1bHRzLmxlbmd0aH0gb3BlcmF0aW9uc2ApO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBlcnJvcnMubGVuZ3RoID09PSAwLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBDbGllbnQtc2lkZSByZXNldCBjb21wbGV0ZWQgKCR7bW9kZX0gbW9kZSkgLSAke3Jlc3VsdHMubGVuZ3RofSBvcGVyYXRpb25zIGNvbXBsZXRlZGAsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgcmVzdWx0cyxcclxuICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgIG1vZGUsXHJcbiAgICAgICAgICBlbnZpcm9ubWVudDogJ2xvY2FsJ1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBDbGllbnQtc2lkZSByZXNldCBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgZXJyb3JzLnB1c2goZXJyb3JNc2cpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbUmVzZXREYXRhV29ya2Zsb3ddIOKdjCAke2Vycm9yTXNnfWApO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvck1zZyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICByZXN1bHRzOiBbXSxcclxuICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgIG1vZGUsXHJcbiAgICAgICAgICBlbnZpcm9ubWVudDogJ2xvY2FsJ1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlZWQgZGVmYXVsdCBzaXRlcyBmb3IgbG9jYWxob3N0IChsb2NhbFN0b3JhZ2UpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2VlZERlZmF1bHRTaXRlc0xvY2FsKHJlc3VsdHM6IHN0cmluZ1tdLCBlcnJvcnM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW1Jlc2V0RGF0YVdvcmtmbG93XSDwn4yxIFNlZWRpbmcgZGVmYXVsdCBzaXRlcyBmb3IgbG9jYWxob3N0Li4uJyk7XHJcblxyXG4gICAgICBjb25zdCBkZWZhdWx0U2l0ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdob21lJyxcclxuICAgICAgICAgIG5hbWU6ICdIb21lJyxcclxuICAgICAgICAgIHR5cGU6ICdwaHlzaWNhbCcsXHJcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgc2V0dGxlbWVudDogJ1V2aXRhJyxcclxuICAgICAgICAgICAgbG9jYXRpb246IHsgbGF0OiA5LjE1MDAsIGxuZzogLTgzLjc1MDAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIGxpbmtzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdmZXJpYS1ib3gnLFxyXG4gICAgICAgICAgbmFtZTogJ0ZlcmlhIEJveCcsXHJcbiAgICAgICAgICB0eXBlOiAncGh5c2ljYWwnLFxyXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIHNldHRsZW1lbnQ6ICdVdml0YScsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB7IGxhdDogOS4xNTAwLCBsbmc6IC04My43NTAwIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBsaW5rczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnZGlnaXRhbC1zcGFjZScsXHJcbiAgICAgICAgICBuYW1lOiAnRGlnaXRhbCBTcGFjZScsXHJcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnLFxyXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIHNldHRsZW1lbnQ6ICdDbG91ZCcsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBudWxsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgbGlua3M6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBzaXRlIG9mIGRlZmF1bHRTaXRlcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBTdG9yZSBzaXRlIGRhdGFcclxuICAgICAgICAgIGNvbnN0IGRhdGFLZXkgPSBgZGF0YTpzaXRlczoke3NpdGUuaWR9YDtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGRhdGFLZXksIEpTT04uc3RyaW5naWZ5KHNpdGUpKTtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgdG8gc2l0ZXMgaW5kZXhcclxuICAgICAgICAgIGNvbnN0IGluZGV4S2V5ID0gJ2luZGV4OnNpdGVzJztcclxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpbmRleEtleSk7XHJcbiAgICAgICAgICBjb25zdCBpbmRleFNldCA9IG5ldyBTZXQoZXhpc3RpbmdJbmRleCA/IEpTT04ucGFyc2UoZXhpc3RpbmdJbmRleCkgOiBbXSk7XHJcbiAgICAgICAgICBpbmRleFNldC5hZGQoc2l0ZS5pZCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpbmRleEtleSwgSlNPTi5zdHJpbmdpZnkoWy4uLmluZGV4U2V0XSkpO1xyXG5cclxuICAgICAgICAgIHJlc3VsdHMucHVzaChgU2VlZGVkIGxvY2FsU3RvcmFnZSBzaXRlOiAke3NpdGUubmFtZX1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIHNlZWQgbG9jYWxTdG9yYWdlIHNpdGUgJHtzaXRlLm5hbWV9OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbUmVzZXREYXRhV29ya2Zsb3ddIOKdjCAke2Vycm9yTXNnfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tSZXNldERhdGFXb3JrZmxvd10g4pyFIFNlZWRlZCBkZWZhdWx0IHNpdGVzIGZvciBsb2NhbGhvc3QnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYEZhaWxlZCB0byBzZWVkIGRlZmF1bHQgc2l0ZXMgZm9yIGxvY2FsaG9zdDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gO1xyXG4gICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtSZXNldERhdGFXb3JrZmxvd10g4p2MICR7ZXJyb3JNc2d9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJrdiIsImJ1aWxkRGF0YUtleSIsImJ1aWxkSW5kZXhLZXkiLCJidWlsZExvZ0tleSIsIlJlc2V0RGF0YVdvcmtmbG93IiwiZXhlY3V0ZSIsIm1vZGUiLCJjb25zb2xlIiwibG9nIiwiaXNLViIsIkJvb2xlYW4iLCJwcm9jZXNzIiwiZW52IiwiS1ZfUkVTVF9BUElfVVJMIiwiaXNTZXJ2ZXIiLCJyZXN1bHRzIiwiZXJyb3JzIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiZW52aXJvbm1lbnQiLCJyZXF1aXJlc0NsaWVudEV4ZWN1dGlvbiIsImV4ZWN1dGVDbGllbnRTaWRlUmVzZXQiLCJvcHRpb25zIiwic2VlZFNpdGVzIiwicHJlc2VydmVMb2dzIiwiY2xlYXJBbGxFbnRpdHlEYXRhIiwiY2xlYXJBbGxMaW5rcyIsImNsZWFyQWxsTG9ncyIsInNlZWREZWZhdWx0U2l0ZXMiLCJsZW5ndGgiLCJlcnJvciIsIkVycm9yIiwiZW50aXR5VHlwZXMiLCJlbnRpdHlUeXBlIiwiaW5kZXhLZXkiLCJlbnRpdHlJZHMiLCJzbWVtYmVycyIsImRhdGFLZXlzIiwibWFwIiwiaWQiLCJkZWwiLCJwdXNoIiwiZXJyb3JNc2ciLCJsaW5rc0luZGV4S2V5IiwibGlua0lkcyIsImxpbmtLZXlzIiwiZW50aXR5TGlua0luZGV4UGF0dGVybiIsImVudGl0eUxpbmtLZXlzIiwia2V5cyIsImxvZ1R5cGVzIiwibG9nVHlwZSIsImxvZ0tleSIsImRlZmF1bHRTaXRlcyIsIm5hbWUiLCJ0eXBlIiwic3RhdHVzIiwibWV0YWRhdGEiLCJzZXR0bGVtZW50IiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwibGlua3MiLCJzaXRlIiwiZGF0YUtleSIsInNldCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzYWRkIiwia2V5c1RvUmVtb3ZlIiwiaSIsImxvY2FsU3RvcmFnZSIsImtleSIsInN0YXJ0c1dpdGgiLCJmb3JFYWNoIiwicmVtb3ZlSXRlbSIsInNlZWREZWZhdWx0U2l0ZXNMb2NhbCIsIndpbmRvdyIsImNhY2hlTmFtZXMiLCJjYWNoZXMiLCJjYWNoZU5hbWUiLCJkZWxldGUiLCJjYWNoZUVycm9yIiwid2FybiIsInNldEl0ZW0iLCJleGlzdGluZ0luZGV4IiwiZ2V0SXRlbSIsImluZGV4U2V0IiwiU2V0IiwicGFyc2UiLCJhZGQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./workflows/settings/reset-data-workflow.ts\n");

/***/ })

};
;